{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./Services/Link.service\";\nimport * as i3 from \"./Links/shorten/shorten.component\";\nexport class AppComponent {\n  constructor(route, router, linkService) {\n    this.route = route;\n    this.router = router;\n    this.linkService = linkService;\n    this.title = 'app';\n    this.route.url.subscribe(urlSegment => {\n      if (urlSegment.length > 0) {\n        const shortCode = urlSegment[0].path;\n        this.redirectToOriginalUrl(shortCode);\n      } else {\n        alert('No short code provided');\n      }\n    });\n  }\n  redirectToOriginalUrl(shortCode) {\n    this.linkService.GetByCode(shortCode).subscribe(result => {\n      window.location.href = result.originalUrl;\n    });\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.LinkService));\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 2,\n  vars: 0,\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"body\");\n      i0.ɵɵelement(1, \"app-shorten\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  dependencies: [i3.ShortenComponent],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;AASA,OAAM,MAAOA,YAAY;EAGvBC,YACUC,KAA2B,EAC3BC,MAAmB,EACnBC,WAAwB;IAFxB,UAAK,GAALF,KAAK;IACL,WAAM,GAANC,MAAM;IACN,gBAAW,GAAXC,WAAW;IALrB,UAAK,GAAG,KAAK;IAOX,IAAI,CAACF,KAAK,CAACG,GAAG,CAACC,SAAS,CAACC,UAAU,IAAG;MACpC,IAAIA,UAAU,CAACC,MAAM,GAAG,CAAC,EAAE;QACzB,MAAMC,SAAS,GAAGF,UAAU,CAAC,CAAC,CAAC,CAACG,IAAI;QACpC,IAAI,CAACC,qBAAqB,CAACF,SAAS,CAAC;OACtC,MACI;QACHG,KAAK,CAAC,wBAAwB,CAAC;;IAEnC,CAAC,CAAC;EACJ;EAEAD,qBAAqB,CAACF,SAAiB;IACrC,IAAI,CAACL,WAAW,CACbS,SAAS,CAACJ,SAAS,CAAC,CACpBH,SAAS,CAAEQ,MAAgC,IAAI;MAC9CC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGH,MAAM,CAACI,WAAW;IAC3C,CAAC,CAAC;EACN;;AAzBWlB,YAAY;mBAAZA,YAAY;AAAA;AAAZA,YAAY;QAAZA,YAAY;EAAAmB;EAAAC;EAAAC;EAAAC;IAAA;MCTzBC,4BAAM;MACJA,8BAA2B;MAI7BA,iBAAO","names":["AppComponent","constructor","route","router","linkService","url","subscribe","urlSegment","length","shortCode","path","redirectToOriginalUrl","alert","GetByCode","result","window","location","href","originalUrl","selectors","decls","vars","template","i0"],"sourceRoot":"","sources":["C:\\Users\\MBARK\\source\\repos\\ShortifyApp\\source\\FrontEndService\\FrontEndService.WEB\\ClientApp\\src\\app\\app.component.ts","C:\\Users\\MBARK\\source\\repos\\ShortifyApp\\source\\FrontEndService\\FrontEndService.WEB\\ClientApp\\src\\app\\app.component.html"],"sourcesContent":["import { Component }                from '@angular/core';\r\nimport { ActivatedRoute, Router }   from '@angular/router';\r\nimport { LinkService }              from './Services/Link.service';\r\nimport { GetLinkByCodeQueryResult } from './Queries/GetLinkByCodeQuery';\r\n\r\n@Component({\r\n  selector   : 'app-root',\r\n  templateUrl: './app.component.html',\r\n})\r\nexport class AppComponent {\r\n  title = 'app';\r\n\r\n  constructor(\r\n    private route      : ActivatedRoute,\r\n    private router     : Router,\r\n    private linkService: LinkService\r\n  ) {\r\n    this.route.url.subscribe(urlSegment => {\r\n      if (urlSegment.length > 0) {\r\n        const shortCode = urlSegment[0].path;\r\n        this.redirectToOriginalUrl(shortCode);\r\n      }\r\n      else {\r\n        alert('No short code provided');\r\n      }\r\n    });\r\n  }\r\n\r\n  redirectToOriginalUrl(shortCode: string) {\r\n    this.linkService\r\n      .GetByCode(shortCode)\r\n      .subscribe((result: GetLinkByCodeQueryResult) => {\r\n        window.location.href = result.originalUrl;\r\n      });\r\n  }\r\n}\r\n","<body>\r\n  <app-shorten></app-shorten>\r\n  <!-- <main class=\"container\">\r\n    <router-outlet></router-outlet>\r\n  </main> -->\r\n</body>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}